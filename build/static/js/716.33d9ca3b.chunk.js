(self.webpackChunkrlc=self.webpackChunkrlc||[]).push([[716],{5501:(e,s,l)=>{"use strict";l.d(s,{r:()=>t,u:()=>a});l(2573);function a(e){const s=e.replace("\u0440.","").replace("\u043e","").trim(),[l,a,t,r,n,c]=s.split(" "),i={"\u0441\u0456\u0447\u043d\u044f":"January","\u043b\u044e\u0442\u043e\u0433\u043e":"February","\u0431\u0435\u0440\u0435\u0437\u043d\u044f":"March","\u043a\u0432\u0456\u0442\u043d\u044f":"April","\u0442\u0440\u0430\u0432\u043d\u044f":"May","\u0447\u0435\u0440\u0432\u043d\u044f":"June","\u043b\u0438\u043f\u043d\u044f":"July","\u0441\u0435\u0440\u043f\u043d\u044f":"August","\u0432\u0435\u0440\u0435\u0441\u043d\u044f":"September","\u0436\u043e\u0432\u0442\u043d\u044f":"October","\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430":"November","\u0433\u0440\u0443\u0434\u043d\u044f":"December"}[a];return new Date(`${i} ${l}, ${t} ${c}`).toUTCString()}const t=e=>{const s=new Date(e);return`${s.getUTCDate()} ${["\u0441\u0456\u0447\u043d\u044f","\u043b\u044e\u0442\u043e\u0433\u043e","\u0431\u0435\u0440\u0435\u0437\u043d\u044f","\u043a\u0432\u0456\u0442\u043d\u044f","\u0442\u0440\u0430\u0432\u043d\u044f","\u0447\u0435\u0440\u0432\u043d\u044f","\u043b\u0438\u043f\u043d\u044f","\u0441\u0435\u0440\u043f\u043d\u044f","\u0432\u0435\u0440\u0435\u0441\u043d\u044f","\u0436\u043e\u0432\u0442\u043d\u044f","\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430","\u0433\u0440\u0443\u0434\u043d\u044f"][s.getUTCMonth()]} ${s.getUTCFullYear()} \u0440. \u043e ${String(s.getUTCHours()).padStart(2,"0")}:${String(s.getUTCMinutes()).padStart(2,"0")}`}},6192:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>y});var a=l(5043),t=l(3216),r=l(5501),n=l(579);const c=(e,s,l,a,t,c,i,d)=>{const o=localStorage.getItem("selectedSlots");if(o)try{const e=JSON.parse(o);return Array.isArray(e)?(0,n.jsxs)("div",{children:[(0,n.jsx)("ul",{style:{backgroundColor:"#F4F4F4"},className:"resultList",children:(0,n.jsxs)("li",{children:[(0,n.jsx)("div",{className:"resultEl",children:(0,n.jsx)("div",{className:"resultHead",children:"\u041c\u043e\u0432\u0430"})}),(0,n.jsx)("div",{className:"resultEl",children:(0,n.jsx)("div",{className:"resultHead",children:"\u0420\u0456\u0432\u0435\u043d\u044c"})}),(0,n.jsx)("div",{className:"resultEl",children:(0,n.jsx)("div",{className:"resultHead",children:"\u0422\u0438\u043f \u0443\u0440\u043e\u043a\u0443"})}),(0,n.jsx)("div",{className:"resultEl",children:(0,n.jsx)("div",{className:"resultHead",children:"\u0412\u0447\u0438\u0442\u0435\u043b\u044c"})}),(0,n.jsx)("div",{className:"resultEl",children:(0,n.jsx)("div",{className:"resultHead",children:"\u0414\u0430\u0442\u0430"})}),(0,n.jsx)("div",{className:"resultEl",children:(0,n.jsx)("div",{className:"resultHead",children:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c"})})]})}),(0,n.jsx)("div",{className:"order-ul",children:e.map(((e,s)=>{const[l,a,t,c,i,d]=e.split(", "),o=(0,r.r)(d);return(0,n.jsx)("ul",{className:"resultList",children:(0,n.jsxs)("li",{children:[(0,n.jsxs)("div",{className:"resultEl",children:[(0,n.jsx)("div",{className:"resultHeadMob",children:"\u041c\u043e\u0432\u0430"}),(0,n.jsx)("div",{className:"resultItem",children:t})]}),(0,n.jsxs)("div",{className:"resultEl",children:[(0,n.jsx)("div",{className:"resultHeadMob",children:"\u0420\u0456\u0432\u0435\u043d\u044c"}),(0,n.jsx)("div",{className:"resultItem",children:c})]}),(0,n.jsxs)("div",{className:"resultEl",children:[(0,n.jsx)("div",{className:"resultHeadMob",children:"\u0422\u0438\u043f \u0443\u0440\u043e\u043a\u0443"}),(0,n.jsx)("div",{className:"resultItem",children:i})]}),(0,n.jsxs)("div",{className:"resultEl",children:[(0,n.jsx)("div",{className:"resultHeadMob",children:"\u0412\u0447\u0438\u0442\u0435\u043b\u044c"}),(0,n.jsx)("div",{className:"resultItem",children:l})]}),(0,n.jsxs)("div",{className:"resultEl",children:[(0,n.jsx)("div",{className:"resultHeadMob",children:"\u0414\u0430\u0442\u0430"}),(0,n.jsx)("div",{className:"resultItem",children:o})]}),(0,n.jsxs)("div",{className:"resultEl",children:[(0,n.jsx)("div",{className:"resultHeadMob",children:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c"}),(0,n.jsx)("div",{className:"resultItem",children:"1000 \u0433\u0440\u043d"})]})]})},s)}))}),(0,n.jsxs)("div",{className:"totalPrice",children:["\u0414\u041e \u0421\u041f\u041b\u0410\u0422\u0418: ",1e3*e.length," \u0433\u0440\u043d"]})]}):(0,n.jsx)("p",{children:"No valid slots found."})}catch(u){return console.error("Error parsing selectedSlots",u),(0,n.jsx)("p",{children:"Error retrieving slots."})}else{const e=localStorage.getItem("selectedDates");if(e)try{const a=JSON.parse(e);return Array.isArray(a)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("ul",{style:{backgroundColor:"#F4F4F4"},className:"resultList",children:(0,n.jsxs)("li",{children:[(0,n.jsx)("div",{className:"resultEl",children:(0,n.jsx)("div",{className:"resultHead",children:"\u041c\u043e\u0432\u0430"})}),(0,n.jsx)("div",{className:"resultEl",children:(0,n.jsx)("div",{className:"resultHead",children:"\u0420\u0456\u0432\u0435\u043d\u044c"})}),(0,n.jsx)("div",{className:"resultEl",children:(0,n.jsx)("div",{className:"resultHead",children:"\u0422\u0438\u043f \u0443\u0440\u043e\u043a\u0443"})}),(0,n.jsx)("div",{className:"resultEl",children:(0,n.jsx)("div",{className:"resultHead",children:"\u0412\u0447\u0438\u0442\u0435\u043b\u044c"})}),(0,n.jsx)("div",{className:"resultEl",children:(0,n.jsx)("div",{className:"resultHead",children:"\u0414\u0430\u0442\u0430"})}),(0,n.jsx)("div",{className:"resultEl",children:(0,n.jsx)("div",{className:"resultHead",children:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c"})})]})}),(0,n.jsx)("div",{className:"order-ul",children:a.map(((e,a)=>(0,n.jsx)("ul",{className:"resultList",children:(0,n.jsxs)("li",{children:[(0,n.jsxs)("div",{className:"resultEl",children:[(0,n.jsx)("div",{className:"resultHeadMob",children:"\u041c\u043e\u0432\u0430"}),(0,n.jsx)("div",{className:"resultItem",children:l})]}),(0,n.jsxs)("div",{className:"resultEl",children:[(0,n.jsx)("div",{className:"resultHeadMob",children:"\u0420\u0456\u0432\u0435\u043d\u044c"}),(0,n.jsx)("div",{className:"resultItem",children:s})]}),(0,n.jsxs)("div",{className:"resultEl",children:[(0,n.jsx)("div",{className:"resultHeadMob",children:"\u0422\u0438\u043f \u0443\u0440\u043e\u043a\u0443"}),(0,n.jsx)("div",{className:"resultItem",children:c})]}),(0,n.jsxs)("div",{className:"resultEl",children:[(0,n.jsx)("div",{className:"resultHeadMob",children:"\u0412\u0447\u0438\u0442\u0435\u043b\u044c"}),(0,n.jsx)("div",{className:"resultItem",children:t})]}),(0,n.jsxs)("div",{className:"resultEl",children:[(0,n.jsx)("div",{className:"resultHeadMob",children:"\u0414\u0430\u0442\u0430"}),(0,n.jsx)("div",{className:"resultItem",children:e})]}),(0,n.jsxs)("div",{className:"resultEl",children:[(0,n.jsx)("div",{className:"resultHeadMob",children:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c"}),(0,n.jsx)("div",{className:"resultItem",children:"1000 \u0433\u0440\u043d"})]})]})},a)))}),(0,n.jsxs)("div",{className:"totalPrice",children:["\u0414\u041e \u0421\u041f\u041b\u0410\u0422\u0418: ",1e3*a.length," \u0433\u0440\u043d"]})]}):(0,n.jsx)("p",{children:"No valid times found."})}catch(u){return console.error("Error parsing selectedTimes",u),(0,n.jsx)("p",{children:"Error retrieving times."})}}return(0,n.jsx)("p",{children:"No selected slots or times found."})};var i=l(6111),d=l.n(i);const o=e=>{const s={public_key:"sandbox_i38312250017",version:"3",action:"pay",subscribe_periodicity:"month",amount:"55",currency:"UAH",description:"Description",order_id:e,sandbox:"sandbox",return_url:"http://localhost:3000/final"},l=btoa(JSON.stringify(s)),a=`sandbox_FRDaasO0MmnhPbbp9U3d8DylKxr6ah8ppwkWKCcY${l}sandbox_FRDaasO0MmnhPbbp9U3d8DylKxr6ah8ppwkWKCcY`;return`https://www.liqpay.ua/api/3/checkout?data=${l}&signature=${d().SHA1(a).toString(d().enc.Base64)}`};var u=l(6213);const h=async e=>{let{username:s,email:l,phone:a,order:t,time:n,lang:c,levelName:i,teacherId:d,teacherName:o,lessonTypes:h,selectedSlots:m,count:x,students:j,setMessage:v,setErrorMessage:N}=e;try{const e=await u.A.post("http://13.60.221.226/api/registerorder",{username:s,email:l,phone:a,order:t,time:n,lang:c,levelName:i,teacherId:d,teacherName:o,lessonTypes:h,selectedSlots:m,count:x,students:j,payment_status:"\u041d\u0435 \u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043e"});if(201===e.status){v(`\u0427\u0430\u0441 \u0437\u0430\u0431\u0440\u043e\u043d\u044c\u043e\u0432\u0430\u043d\u043e: ${e.data.unBookedSlots.map((e=>(0,r.r)(e))).join(", ")}`)}}catch(p){if(p.response&&400===p.response.status){const e=p.response.data.bookedSlots.map((e=>(0,r.r)(e))),s=p.response.data.unBookedSlots.map((e=>(0,r.r)(e)));let l=`\u0412\u0438 \u0432\u0436\u0435 \u043c\u0430\u0454\u0442\u0435 \u0437\u0430\u043f\u0438\u0441 \u043d\u0430 \u0447\u0430\u0441: ${e.join(", ")}`;s.length>0&&(l+=`\n\u0423\u0441\u043f\u0456\u0448\u043d\u043e \u0437\u0430\u0431\u0440\u043e\u043d\u044c\u043e\u0432\u0430\u043d\u0456: ${s.join(", ")}`),N(l)}else N(p.response?p.response.data.error:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")}};var m=l(5475),x=l(8571),j=l(2064),v=l(1),N=l(6383);l(6412),l(3953);const p=async function(e,s){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const n=localStorage.getItem("token");if(n)try{const c=await s.get("http://13.60.221.226/api/me",{headers:{Authorization:`Bearer ${n}`}});console.log("Response Data:",c.data);const{user:i,orders:d}=c.data;e(i),l(i.username),a(i.email),t(i.phone),r(d)}catch(c){console.error("Error fetching user data:",c)}};var g=l(2508),b=l(8643),S=l(8929);const y=()=>{const[e,s]=(0,a.useState)(""),[l,i]=(0,a.useState)(""),[d,y]=(0,a.useState)(""),[f,E]=(0,a.useState)(""),[I,k]=(0,a.useState)(null),[H,A]=(0,a.useState)(""),[C,M]=(0,a.useState)(""),[$,w]=(0,a.useState)(""),[_,D]=(0,a.useState)(""),[F,T]=(0,a.useState)(null),[O,U]=(0,a.useState)(null),[L,B]=(0,a.useState)(null),[J,K]=(0,a.useState)([]),[P,R]=(0,a.useState)(!1),[Y,z]=(0,a.useState)("login"),[W,q]=(0,a.useState)(!1),[G,Q]=(0,a.useState)(null),[V,X]=(0,a.useState)(),[Z,ee]=(0,a.useState)(0),[se,le]=(0,a.useState)(!1),ae=(0,t.zy)(),{language:te,level:re,lang_from_general_cal:ne,teacherId:ce,teacherName:ie,lessonTypes:de,count:oe,schoolId:ue}=ae.state||{};(0,a.useEffect)((()=>{const s=setInterval((async()=>{try{const t=await u.A.get("http://13.60.221.226/api/checkpaymentstatus",{params:{orderId:V}});if(console.log(t.data),"success"===t.data){try{Q("\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e"),M("\u041e\u043f\u043b\u0430\u0442\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043e.");const s=await u.A.post("http://13.60.221.226/api/registerorder",{username:e,email:l,phone:d,order:F,time:O,lang:f,levelName:H,teacherId:ce,teacherName:ie,lessonTypes:de,selectedSlots:L,count:oe,students:J,payment_status:"\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e"});if(201===s.status){const e=s.data.unBookedSlots.map((e=>(0,r.r)(e)));M(`\u0427\u0430\u0441 \u0437\u0430\u0431\u0440\u043e\u043d\u044c\u043e\u0432\u0430\u043d\u043e: ${e.join(", ")}`)}}catch(a){if(a.response&&400===a.response.status){const e=a.response.data.bookedSlots.map((e=>(0,r.r)(e))),s=a.response.data.unBookedSlots.map((e=>(0,r.r)(e)));let l=`\u0412\u0438 \u0432\u0436\u0435 \u043c\u0430\u0454\u0442\u0435 \u0437\u0430\u043f\u0438\u0441 \u043d\u0430 \u0447\u0430\u0441: ${e.join(", ")}`;s.length>0&&(l+=`\n\u0423\u0441\u043f\u0456\u0448\u043d\u043e \u0437\u0430\u0431\u0440\u043e\u043d\u044c\u043e\u0432\u0430\u043d\u0456: ${s.join(", ")}`),w(l)}else w(a.response?a.response.data.error:"\u0412\u0438\u043d\u0438\u043a\u043b\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430")}clearInterval(s)}}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043e\u043f\u043b\u0430\u0442\u044b",a)}}),5e3);return()=>clearInterval(s)}),[V]),(0,a.useEffect)((()=>{(async()=>{await p(k,u.A,s,i,y);const e=localStorage.getItem("data"),l=localStorage.getItem("selectedDates"),a=localStorage.getItem("selectedSlots");if(T(e),U(l),B(a),te?E(te):ne&&E(ne),A(re),oe){const e=Array.from({length:oe},(()=>({name:"",email:"",phone:""})));K(e)}})()}),[oe]);const he=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),me=(e,s,l)=>{const a=[...J];a[e][s]=l,K(a)},xe=function(){q(arguments.length>0&&void 0!==arguments[0]?arguments[0]:!W)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"main final",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("div",{className:"logo",children:(0,n.jsxs)("div",{className:"logo-items",children:[(0,n.jsx)(m.N_,{to:`/${ue}`,children:(0,n.jsx)("img",{src:x.A,alt:"Logo"})}),(0,n.jsxs)("div",{className:"logo-name",children:["\u041c\u043e\u0432\u043d\u0430 \u0448\u043a\u043e\u043b\u0430 ",(0,n.jsx)("span",{children:"EAGLES"})]})]})}),(0,n.jsxs)("div",{className:"auth-form-container",children:[(0,n.jsxs)(j.A,{className:"modal-content",isOpen:P,onClose:()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!P;R(e),q(e)}(!1),children:[(0,n.jsxs)("div",{className:"tabs",children:[(0,n.jsx)("button",{className:"login"===Y?"active":"",onClick:()=>z("login"),children:"\u0412\u0445\u0456\u0434"}),(0,n.jsx)("button",{className:"register"===Y?"active":"",onClick:()=>z("register"),children:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"})]}),"login"===Y?(0,n.jsx)(v.A,{}):(0,n.jsx)(N.A,{})]}),(0,n.jsx)("h2",{children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f \u0437\u0430\u043f\u0438\u0441\u0443"}),(0,n.jsxs)("form",{className:"order-confirm-form",onSubmit:async e=>{e.preventDefault();try{const e=`order_${Math.random().toString(36).substr(2,9)}`;X(e),localStorage.setItem("OrderId",e);const s=o(e);window.open(s,"_blank")}catch(s){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u043f\u043b\u0430\u0442\u0435 \u0438\u043b\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445",s),w("\u0421\u0442\u0430\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0456\u0434 \u0447\u0430\u0441 \u043e\u043f\u043b\u0430\u0442\u0438")}},children:[(0,n.jsxs)("div",{className:"field",children:[(0,n.jsx)("img",{src:g.A,alt:""}),(0,n.jsx)("input",{type:"email",placeholder:"Email",value:l,onChange:e=>{i(e.target.value),_&&D("")}}),(0,n.jsx)("p",{className:"error-message-email",children:_})]}),J.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h4",{className:"student-number",children:["\u0421\u0442\u0443\u0434\u0435\u043d\u0442 ",Z+1]}),(0,n.jsxs)("div",{className:"field",children:[(0,n.jsx)("img",{src:g.A,alt:""}),(0,n.jsx)("input",{type:"text",placeholder:"\u0406\u043c'\u044f \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430",value:J[Z].name,onChange:e=>me(Z,"name",e.target.value)})]}),(0,n.jsxs)("div",{className:"field",children:[(0,n.jsx)("img",{src:b.A,alt:""}),(0,n.jsx)("input",{type:"phone",placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430",value:J[Z].phone,onChange:e=>me(Z,"phone",e.target.value)})]})]},Z),(0,n.jsxs)("div",{className:"actions",children:[Z>0&&(0,n.jsx)("button",{type:"button",onClick:()=>{Z>0&&ee(Z-1)},children:"\u041d\u0430\u0437\u0430\u0434"}),Z<J.length-1&&(0,n.jsx)("button",{type:"button",onClick:()=>{he(l)?(D(""),Z<J.length-1&&ee(Z+1)):D("Email \u0432\u0432\u0435\u0434\u0435\u043d\u043e \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e")},children:"\u0414\u0430\u043b\u0456"}),Z===J.length-1&&(0,n.jsx)("button",{type:"button",onClick:()=>xe(!0),disabled:!J[Z].name||!J[Z].phone||!he(l),children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u0438"})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)(j.A,{className:"modal-content-result",isOpen:W,onClose:()=>xe(!1),children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("h2",{children:"\u041f\u0456\u0434\u0441\u0443\u043c\u043e\u043a"}),(0,n.jsxs)("div",{className:"studentsList",children:[(0,n.jsx)("span",{className:"modal-close",onClick:()=>xe(!1),children:"\xd7"}),(0,n.jsxs)("div",{className:"students-block",children:[(0,n.jsx)("div",{className:"students-head",children:"\u0423\u0447\u043d\u0456:"}),(0,n.jsx)("div",{className:"contents-block",children:J.map(((e,s)=>(0,n.jsx)("div",{className:"content",children:(0,n.jsx)("p",{children:e.name})},s)))})]})]}),te&&(0,n.jsxs)("div",{children:[ie,c(te,re,ne,ce,ie,de,oe,ue)]}),ne&&(0,n.jsx)("div",{children:c(te,re,ne,ce,ie,de,oe,ue)})]}),(0,n.jsxs)("div",{className:"pay-btns",children:[(0,n.jsx)("button",{type:"submit",children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u0438"}),(0,n.jsx)("button",{type:"button",onClick:()=>{h({username:e,email:l,phone:d,order:F,time:O,lang:f,levelName:H,teacherId:ce,teacherName:ie,lessonTypes:de,selectedSlots:L,count:oe,students:J,setMessage:M,setErrorMessage:w}),xe(!1)},children:"\u0417\u0440\u043e\u0431\u0438\u0442\u0438 \u0437\u0430\u044f\u0432\u043a\u0443"})]}),(0,n.jsx)("div",{className:"status-pay",children:(0,n.jsx)("h3",{children:G&&(0,n.jsxs)("div",{children:["\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u043b\u0430\u0442\u0435\u0436\u0443: ",G]})})})]})})}),(0,n.jsx)("p",{children:C}),(0,n.jsx)("p",{className:"error-message",children:$})]})]})]})}),(0,n.jsx)(S.A,{})]})}},6412:()=>{},477:()=>{}}]);
//# sourceMappingURL=716.33d9ca3b.chunk.js.map